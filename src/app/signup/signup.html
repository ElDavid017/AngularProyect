<div class="signup-page">
	<div class="signup-card">
		<div class="signup-top">
			<img src="assets/BeLogo.JPG" class="signup-logo" alt="Be Logo" loading="lazy" onerror="this.style.display='none'" />
			<h2>Regístrate</h2>
			<p class="muted">Únete para acceder a las funcionalidades del sistema.</p>
		</div>

		<form class="signup-form" [formGroup]="formSigup" (ngSubmit)="onSubmit()" novalidate>
			<div class="form-grid">
				<div class="field">
					<label for="usuid">Identificación</label>
					<input id="usuid" formControlName="usuid" placeholder="Ej: 1234567890" />
					<div class="error" *ngIf="f['usuid'].touched && f['usuid'].invalid">Identificación obligatoria</div>
				</div>

				<div class="field">
					<label for="usuclave">Contraseña</label>
					<input id="usuclave" type="password" formControlName="usuclave" placeholder="Mínimo 4 caracteres" />
					<div class="error" *ngIf="f['usuclave'].touched && f['usuclave'].invalid">La contraseña es obligatoria (min 4 caracteres)</div>
				</div>

				<div class="field">
					<label for="usunombre">Nombre</label>
					<input id="usunombre" formControlName="usunombre" placeholder="Nombre" />
				</div>

				<div class="field">
					<label for="usuapellido">Apellido</label>
					<input id="usuapellido" formControlName="usuapellido" placeholder="Apellido" />
				</div>

				<div class="field">
					<label for="usuruci">RUC</label>
					<input id="usuruci" formControlName="usuruci" placeholder="RUC de la empresa" />
				</div>

				<div class="field">
					<label for="empresa">Empresa</label>
					<input id="empresa" formControlName="empresa" placeholder="Nombre de la empresa" />
				</div>

				<div class="field">
					<label for="correo">Correo</label>
					<input id="correo" type="email" formControlName="correo" placeholder="correo@ejemplo.com" />
					<div class="error" *ngIf="f['correo'].touched && f['correo'].invalid">Correo inválido</div>
				</div>

				<div class="field">
					<label for="telefono">Teléfono</label>
					<input id="telefono" type="tel" formControlName="telefono" placeholder="0991234567" />
					<div class="error" *ngIf="f['telefono'].touched && f['telefono'].invalid">Teléfono debe tener 10 dígitos</div>
				</div>
			</div>

			<div class="row-actions">
				<button type="submit" class="btn primary" [disabled]="submitting">{{ submitting ? 'Guardando...' : 'Guardar registro' }}</button>
				<a class="btn secondary" href="/login">Cancelar</a>
			</div>
		</form>
	</div>

	<!-- Dialog modal -->
	<div class="dialog-backdrop" *ngIf="showDialog">
		<div class="dialog">
			<h3>Estado del registro</h3>
			<p>{{ dialogMessage }}</p>
			<div class="dialog-actions">
				<button class="btn primary" (click)="closeDialog()">Aceptar</button>
			</div>
		</div>
	</div>
</div>
